---
UID: NS:winbio_types._WINBIO_PRESENCE
title: "_WINBIO_PRESENCE"
author: windows-driver-content
description: Contains information about the presence of an individual whose presence is being monitored.
old-location: secbiomet\winbio_presence.htm
old-project: SecBioMet
ms.assetid: 810D452E-DDFA-4AB2-AEFB-0C170C0C18D4
ms.author: windowsdriverdev
ms.date: 3/27/2018
ms.keywords: "*PWINBIO_PRESENCE, PWINBIO_PRESENCE, PWINBIO_PRESENCE structure pointer [Windows Biometric Framework API], WINBIO_PRESENCE, WINBIO_PRESENCE structure [Windows Biometric Framework API], _WINBIO_PRESENCE, secbiomet.winbio_presence, winbio_types/PWINBIO_PRESENCE, winbio_types/WINBIO_PRESENCE"
ms.prod: windows-hardware
ms.technology: windows-devices
ms.topic: struct
req.header: winbio_types.h
req.include-header: Winbio.h for client applications or Winbio_adapters.h for adapters
req.target-type: Windows
req.target-min-winverclnt: Windows 10 [desktop apps only]
req.target-min-winversvr: Windows Server 2016 [desktop apps only]
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.typenames: WINBIO_PRESENCE, *PWINBIO_PRESENCE, WINBIO_PRESENCE, *PWINBIO_PRESENCE
topic_type:
-	APIRef
-	kbSyntax
api_type:
-	HeaderDef
api_location:
-	winbio_types.h
api_name:
-	WINBIO_PRESENCE
product: Windows
targetos: Windows
req.lib: 
req.dll: 
req.irql: 
req.product: Windows Address Book 5.0
---

# _WINBIO_PRESENCE structure


## -description


Contains information about the presence of an individual whose presence is being monitored.


## -struct-fields




### -field Authorization

 


### -field Factor

The biometric factor used to monitor the presence of the individual.


### -field SubFactor

The biometric subfactor qualifier for the biometric factor used to monitor the presence of the individual.


### -field Status

The status of the identification procedure for the individual.


### -field RejectDetail

Additional information about the failure to recognize an individual, including feedback that explains how to correct the failure.


### -field Identity

The identity of the individual whose presence is being monitored, once that individual has been identified.


### -field TrackingId

An integer that is generated by the adapter and uniquely identifies the individual. The tracking identifier that the adapter assigns to a particular individual is guaranteed to be constant as long as that person remains in the camera frame.


### -field Ticket

Reserved. Set to 0 by the adapter.


### -field Properties

Factor-specific information about the position of an individual.


## -remarks



The <a href="https://msdn.microsoft.com/B8B72654-D161-480B-AD3D-8ED236249562">EngineAdapterIdentifyAll</a> function creates an array of <b>WINBIO_PRESENCE</b> structures and sends this array to the biometric service. The biometric service uses the array to update its internal model of humans near the computer.

Depending on the results of this update, the biometric service may generate a <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure for the <a href="https://msdn.microsoft.com/973DA92D-7319-43A9-B4FF-3CAF8A644C50">WinBioMonitorPresence</a> function for any clients with active presence monitors. The <b>WINBIO_ASYNC_RESULT.Operation</b> member of the structure contains <b>WINBIO_OPERATION_MONITOR_PRESENCE</b>, and the <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member provides additional information about the state of the individual.

When an individual that the engine adapter associates with a particular tracking identifier appears in the input stream for the first time, the biometric service generates a client-side <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_ARRIVAL</b>. This structure is sent to your application callback function or application message queue before any other <b>WINBIO_ASYNC_RESULT</b> structures  where the <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.PresenceArray</b> includes a <b>WINBIO_PRESENCE</b> structure with the same value for <b>WINBIO_PRESENCE.TrackingId</b>.


The following combinations of values in the array of <b>WINBIO_PRESENCE</b> structures that the <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.PresenceArray</b> member indicate specific kinds of changes in the state of an individual.

<ul>
<li>
When an individual is visible in the camera frame, but the engine is still trying to identify the individual, the members of the <b>WINBIO_PRESENCE</b> structure have the values in the following table.

<table>
<tr>
<th>Member</th>
<th>Value</th>
</tr>
<tr>
<td><b>TrackingId</b></td>
<td>An integer that identifies the individual to the engine.</td>
</tr>
<tr>
<td><b>Status</b></td>
<td><b>S_OK</b></td>
</tr>
<tr>
<td><b>Identity.Type</b></td>
<td><b>WINBIO_ID_TYPE_NULL</b></td>
</tr>
</table>
 

In this case, the biometric service extends the expiry time for the individual, and does not generate a client-side <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure for the tracking identifier where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_RECOGNIZE</b>. 


The first time that a <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure includes <b>WINBIO_PRESENCE</b> structure where the <b>Status</b> member is <b>S_OK</b> and the <b>Identity.Type</b> member is <b>WINBIO_ID_TYPE_NULL</b> after one or more <b>WINBIO_ASYNC_RESULT</b> structures included a <b>WINBIO_PRESENCE</b> structure with a <b>Status</b> member of <b>WINBIO_E_BAD_CAPTURE</b>,  the presence monitor generates a single <b>WINBIO_ASYNC_RESULT</b> structure for the tracking identifier where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_TRACK</b>. This <b>WINBIO_ASYNC_RESULT</b> structure where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_TRACK</b> informs the client  that the problem that caused the <b>WINBIO_E_BAD_CAPTURE</b> error has resolved. For more information about the circumstances where a <b>WINBIO_PRESENCE</b> structure has <b>Status</b> member of <b>WINBIO_E_BAD_CAPTURE</b>, see the description about how the engine adapter provides feedback to the user to correct recognition failures later in these Remarks.

</li>
<li>
When an individual  is visible in the camera frame, but the engine is still trying to identify the individual and wants to provide feedback to the user about how to correct a recognition failure, the members of the <b>WINBIO_PRESENCE</b> structure have the values in the following table.

<table>
<tr>
<th>Member</th>
<th>Value</th>
</tr>
<tr>
<td><b>TrackingId</b></td>
<td>An integer that identifies the individual to the engine.</td>
</tr>
<tr>
<td><b>Status</b></td>
<td><b>WINBIO_E_BAD_CAPTURE</b></td>
</tr>
<tr>
<td><b>Identity.Type</b></td>
<td><b>WINBIO_ID_TYPE_NULL</b></td>
</tr>
<tr>
<td><b>Properties.FacialFeatures.BoundingBox</b>, if the value of <b>Factor</b> is <b>WINBIO_TYPE_FACIAL_FEATURES</b></td>
<td>The location of the face of the individual within the camera frame.</td>
</tr>
<tr>
<td><b>Properties.Iris.BoundingBox</b>, if the value of <b>Factor</b> is <b>WINBIO_TYPE_IRIS</b></td>
<td>The location of the iris or irises of the individual within the camera frame.</td>
</tr>
</table>
 

In this case, the biometric service extends the expiry time for for the individual and generates a <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure for the tracking identifier where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_TRACK</b>.

</li>
<li>
When an individual is visible in the camera frame, and the engine adapter determines the identity of the individual, the members of the <b>WINBIO_PRESENCE</b> structure have the values in the following table.

<table>
<tr>
<th>Member</th>
<th>Value</th>
</tr>
<tr>
<td><b>TrackingId</b></td>
<td>An integer that identifies the individual to the engine.</td>
</tr>
<tr>
<td><b>Status</b></td>
<td><b>S_OK</b></td>
</tr>
<tr>
<td><b>Identity.Type</b></td>
<td><b>WINBIO_ID_TYPE_SID</b></td>
</tr>
<tr>
<td><b>Identity.Value.AccountSid</b></td>
<td>The security identifier (SID) of the individual.</td>
</tr>
</table>
 

In this case, the biometric service associates the tracking identifier with the SID for the individual and generates a client-side <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure for the tracking identifier where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_RECOGNIZE</b>. The biometric service does not generate additional client-side <b>WINBIO_ASYNC_RESULT</b> structures for the tracking identifier unless the individual leaves the camera frame.

</li>
<li>
When an individual is visible in the camera frame, but the engine adapter determines for certain that the individual is not enrolled, the members of the <b>WINBIO_PRESENCE</b> structure have the values in the following table.

<table>
<tr>
<th>Member</th>
<th>Value</th>
</tr>
<tr>
<td><b>TrackingId</b></td>
<td>An integer that identifies the individual to the engine.</td>
</tr>
<tr>
<td><b>Status</b></td>
<td><b>WINBIO_E_UNKNOWN_ID</b></td>
</tr>
<tr>
<td><b>Identity.Type</b></td>
<td><b>WINBIO_ID_TYPE_NULL</b></td>
</tr>
</table>
 

In this case, the biometric service associates the tracking identifier of the individual with an identity of UNKNOWN, and generates  a client-side <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure for the tracking identifier where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_RECOGNIZE</b>. The biometric service does not generate additional client-side <b>WINBIO_ASYNC_RESULT</b> structures for the tracking identifier unless the individual leaves the camera frame.

</li>
</ul>
When an individual that the engine adapter associates with a particular tracking identifier leaves the camera frame and stops appearing in the values that the <a href="https://msdn.microsoft.com/B8B72654-D161-480B-AD3D-8ED236249562">EngineAdapterIdentifyAll</a> function returns, the tracking identifier eventually expires.  When the tracking identifier expires, the biometric service generates a client-side <a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a> structure where the   <b>WINBIO_ASYNC_RESULT.Parameters.MonitorPresence.ChangeType</b> member is <b>WINBIO_CHANGE_TYPE_DEPART</b>. 
The engine adapter can prevent the biometric service from generating this structure with the <b>WINBIO_CHANGE_TYPE_DEPART</b> value by including  a <b>WINBIO_PRESENCE</b> structure in the array that <b>EngineAdapterIdentifyAll</b> returns, where the <b>WINBIO_PRESENCE.Status</b> member is <b>S_OK</b> and the <b>WINBIO_PRESENCE.Identity.Type</b> member is <b>WINBIO_ID_TYPE_NULL</b> as described earlier in these Remarks. This action extends the expiry time for the tracking identifier without causing any client-side activity.





## -see-also




<a href="https://msdn.microsoft.com/B8B72654-D161-480B-AD3D-8ED236249562">EngineAdapterIdentifyAll</a>



<a href="https://msdn.microsoft.com/1C8A4557-3851-4AB2-BB9B-AE199EB9D024">WINBIO_ASYNC_RESULT</a>



<a href="https://msdn.microsoft.com/973DA92D-7319-43A9-B4FF-3CAF8A644C50">WinBioMonitorPresence</a>
 

 

