---
UID: NS:wincon._KEY_EVENT_RECORD
title: "_KEY_EVENT_RECORD"
author: windows-driver-content
description: Describes a keyboard input event in a console INPUT_RECORD structure.
old-location: consoles\key_event_record_str.htm
old-project: consoles
ms.assetid: b3fed86b-84ef-48e4-97e1-cb3d65f714a7
ms.author: windowsdriverdev
ms.date: 3/27/2018
ms.keywords: "*PKEY_EVENT_RECORD, CAPSLOCK_ON, ENHANCED_KEY, KEY_EVENT_RECORD, KEY_EVENT_RECORD structure [Consoles], LEFT_ALT_PRESSED, LEFT_CTRL_PRESSED, NUMLOCK_ON, RIGHT_ALT_PRESSED, RIGHT_CTRL_PRESSED, SCROLLLOCK_ON, SHIFT_PRESSED, _KEY_EVENT_RECORD, _win32_key_event_record_str, base.key_event_record_str, consoles.key_event_record_str, wincon/KEY_EVENT_RECORD"
ms.prod: windows-hardware
ms.technology: windows-devices
ms.topic: struct
req.header: wincon.h
req.include-header: Windows.h
req.target-type: Windows
req.target-min-winverclnt: Windows 2000 Professional [desktop apps only]
req.target-min-winversvr: Windows 2000 Server [desktop apps only]
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.typenames: KEY_EVENT_RECORD, *PKEY_EVENT_RECORD
topic_type:
-	APIRef
-	kbSyntax
api_type:
-	HeaderDef
api_location:
-	Wincon.h
api_name:
-	KEY_EVENT_RECORD
product: Windows
targetos: Windows
req.lib: 
req.dll: 
req.irql: 
req.product: Windows Address Book 5.0
---

# _KEY_EVENT_RECORD structure


## -description


Describes a keyboard input event in a console 
<a href="https://msdn.microsoft.com/a46ba7fd-097a-455d-96ac-13aa01e11dc1">INPUT_RECORD</a> structure.


## -struct-fields




### -field uChar

A union of the following members.



#### UnicodeChar

Translated Unicode character.



#### AsciiChar

Translated ASCII character.


### -field bKeyDown

If the key is pressed, this member is <b>TRUE</b>. Otherwise, this member is <b>FALSE</b> (the key is released).


### -field wRepeatCount

The repeat count, which indicates that a key is being held down. For example, when a key is held down, you might get five events with this member equal to 1, one event with this member equal to 5, or multiple events with this member greater than or equal to 1.


### -field wVirtualKeyCode

A <a href="_win32_virtual_key_codes">virtual-key code</a> that identifies the given key in a device-independent manner.


### -field wVirtualScanCode

The virtual scan code of the given key that represents the device-dependent value generated by the keyboard hardware.


### -field dwControlKeyState

The state of the control keys. This member can be one or more of the following values.

<table>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
<tr>
<td width="40%"><a id="CAPSLOCK_ON"></a><a id="capslock_on"></a><dl>
<dt><b>CAPSLOCK_ON</b></dt>
<dt>0x0080</dt>
</dl>
</td>
<td width="60%">
The CAPS LOCK light is on.

</td>
</tr>
<tr>
<td width="40%"><a id="ENHANCED_KEY"></a><a id="enhanced_key"></a><dl>
<dt><b>ENHANCED_KEY</b></dt>
<dt>0x0100</dt>
</dl>
</td>
<td width="60%">
The key is enhanced.

</td>
</tr>
<tr>
<td width="40%"><a id="LEFT_ALT_PRESSED"></a><a id="left_alt_pressed"></a><dl>
<dt><b>LEFT_ALT_PRESSED</b></dt>
<dt>0x0002</dt>
</dl>
</td>
<td width="60%">
The left ALT key is pressed.

</td>
</tr>
<tr>
<td width="40%"><a id="LEFT_CTRL_PRESSED"></a><a id="left_ctrl_pressed"></a><dl>
<dt><b>LEFT_CTRL_PRESSED</b></dt>
<dt>0x0008</dt>
</dl>
</td>
<td width="60%">
The left CTRL key is pressed.

</td>
</tr>
<tr>
<td width="40%"><a id="NUMLOCK_ON"></a><a id="numlock_on"></a><dl>
<dt><b>NUMLOCK_ON</b></dt>
<dt>0x0020</dt>
</dl>
</td>
<td width="60%">
The NUM LOCK light is on.

</td>
</tr>
<tr>
<td width="40%"><a id="RIGHT_ALT_PRESSED"></a><a id="right_alt_pressed"></a><dl>
<dt><b>RIGHT_ALT_PRESSED</b></dt>
<dt>0x0001</dt>
</dl>
</td>
<td width="60%">
The right ALT key is pressed.

</td>
</tr>
<tr>
<td width="40%"><a id="RIGHT_CTRL_PRESSED"></a><a id="right_ctrl_pressed"></a><dl>
<dt><b>RIGHT_CTRL_PRESSED</b></dt>
<dt>0x0004</dt>
</dl>
</td>
<td width="60%">
The right CTRL key is pressed.

</td>
</tr>
<tr>
<td width="40%"><a id="SCROLLLOCK_ON"></a><a id="scrolllock_on"></a><dl>
<dt><b>SCROLLLOCK_ON</b></dt>
<dt>0x0040</dt>
</dl>
</td>
<td width="60%">
The SCROLL LOCK light is on.

</td>
</tr>
<tr>
<td width="40%"><a id="SHIFT_PRESSED"></a><a id="shift_pressed"></a><dl>
<dt><b>SHIFT_PRESSED</b></dt>
<dt>0x0010</dt>
</dl>
</td>
<td width="60%">
The SHIFT key is pressed.

</td>
</tr>
</table>
 


## -remarks



Enhanced keys for the IBM® 101- and 102-key keyboards are the INS, DEL, HOME, END, PAGE UP, PAGE DOWN, and direction keys in the clusters to the left of the keypad; and the divide (/) and ENTER keys in the keypad.

Keyboard input events are generated when any key, including control keys, is pressed or released. However, the ALT key when pressed and released without combining with another character, has special meaning to the system and is not passed through to the application. Also, the CTRL+C key combination is not passed through if the input handle is in processed mode (<b>ENABLE_PROCESSED_INPUT</b>).


#### Examples

For an example, see <a href="https://msdn.microsoft.com/57570f3b-4a37-4789-bf6c-474fae60171d">Reading Input Buffer Events</a>.

<div class="code"></div>



## -see-also




<a href="https://msdn.microsoft.com/a46ba7fd-097a-455d-96ac-13aa01e11dc1">INPUT_RECORD</a>



<a href="https://msdn.microsoft.com/9982dc20-43bd-4ee3-a68d-157c9134daca">PeekConsoleInput</a>



<a href="https://msdn.microsoft.com/5a9f7b18-cdea-4041-a377-5532d30e0105">ReadConsoleInput</a>



<a href="https://msdn.microsoft.com/ad06231f-5063-4aff-b14d-8df5e6e42430">WriteConsoleInput</a>
 

 

