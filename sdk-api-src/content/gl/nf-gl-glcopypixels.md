---
UID: NF:gl.glCopyPixels
title: glCopyPixels function
author: windows-driver-content
description: The glCopyPixels function copies pixels in the framebuffer.
old-location: opengl\glcopypixels.htm
old-project: OpenGL
ms.assetid: c4055928-7b8b-4d0f-94f3-e3b9c0503308
ms.author: windowsdriverdev
ms.date: 2/15/2018
ms.keywords: GL_COLOR, GL_DEPTH, GL_STENCIL, _ogl_glCopyPixels, gl/glCopyPixels, glCopyPixels, glCopyPixels function [OpenGL], opengl.glcopypixels
ms.prod: windows-hardware
ms.technology: windows-devices
ms.topic: function
req.header: gl.h
req.include-header: 
req.target-type: Windows
req.target-min-winverclnt: Windows 2000 Professional [desktop apps only]
req.target-min-winversvr: Windows 2000 Server [desktop apps only]
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.typenames: 
topic_type:
-	APIRef
-	kbSyntax
api_type:
-	DllExport
api_location:
-	opengl32.dll
api_name:
-	glCopyPixels
product: Windows
targetos: Windows
req.lib: Opengl32.lib
req.dll: Opengl32.dll
req.irql: 
req.product: GDI+ 1.1
---

# glCopyPixels function


## -description


The <b>glCopyPixels</b> function copies pixels in the framebuffer.


## -parameters




### -param x

The window x-plane coordinate of the lower-left corner of the rectangular region of pixels to be copied.


### -param y

The window y-plane coordinate of the lower-left corner of the rectangular region of pixels to be copied.


### -param width

The width dimension of the rectangular region of pixels to be copied. Must be nonnegative.


### -param height

The height dimension of the rectangular region of pixels to be copied. Must be nonnegative.


### -param type

Specifies whether <b>glCopyPixels</b> is to copy color values, depth values, or stencil values. The acceptable symbolic constants are.

<table>
<tr>
<th>Value</th>
<th>Meaning</th>
</tr>
<tr>
<td width="40%"><a id="GL_COLOR"></a><a id="gl_color"></a><dl>
<dt><b>GL_COLOR</b></dt>
</dl>
</td>
<td width="60%">
The <b>glCopyPixels</b> function reads indexes or RGBA colors from the buffer currently specified as the read source buffer (see <a href="https://msdn.microsoft.com/734153fa-e809-4b70-867e-55e46ab95712">glReadBuffer</a>).
				  

If OpenGL is in color-index mode:

<ol>
<li>Each index that is read from this buffer is converted to a fixed-point format with an unspecified number of bits to the right of the binary point.</li>
<li>Each index is shifted left by GL_INDEX_SHIFT bits, and added to GL_INDEX_OFFSET.If GL_INDEX_SHIFT is negative, the shift is to the right. In either case, zero bits fill otherwise unspecified bit locations in the result.

</li>
<li>If GL_MAP_COLOR is true, the index is replaced with the value that it references in lookup table GL_PIXEL_MAP_I_TO_I.</li>
<li>Whether the lookup replacement of the index is done or not, the integer part of the index is then <b>AND</b>ed with 2<i><sup>b</sup></i> 1, where <i>b</i> is the number of bits in a color-index buffer.</li>
</ol>
If OpenGL is in RGBA mode:

<ol>
<li>The red, green, blue, and alpha components of each pixel that is read are converted to an internal floating-point format with unspecified precision.</li>
<li>The conversion maps the largest representable component value to 1.0, and component value zero to 0.0.</li>
<li>The resulting floating-point color values are then multiplied by GL_c_SCALE and added to GL_c_BIAS, where <i>c</i> is RED, GREEN, BLUE, and ALPHA for the respective color components.</li>
<li>The results are clamped to the range [0,1].</li>
<li>If GL_MAP_COLOR is true, each color component is scaled by the size of lookup table GL_PIXEL_MAP_c_TO_c, and then replaced by the value that it references in that table; <i>c</i> is R, G, B, or A, respectively.
				  The resulting indexes or RGBA colors are then converted to fragments by attaching the current raster position <i>z</i>-coordinate and texture coordinates to each pixel, and then assigning window coordinates (<i>x</i><sub>r</sub> + i, <i>y</i><sub>r</sub> + <i>j</i>), where (<i>x</i><sub>r</sub> , <i>y</i><sub>r</sub> ) is the current raster position, and the pixel was the pixel in the <i>i</i> position in the <i>j</i> row. These pixel fragments are then treated just like the fragments generated by rasterizing points, lines, or polygons. Texture mapping, fog, and all the fragment operations are applied before the fragments are written to the framebuffer.

</li>
</ol>
</td>
</tr>
<tr>
<td width="40%"><a id="GL_DEPTH"></a><a id="gl_depth"></a><dl>
<dt><b>GL_DEPTH</b></dt>
</dl>
</td>
<td width="60%">
Depth values are read from the depth buffer and converted directly to an internal floating-point format with unspecified precision. The resulting floating-point depth value is then multiplied by GL_DEPTH_SCALE and added to GL_DEPTH_BIAS. The result is clamped to the range [0,1].
				  

The resulting depth components are then converted to fragments by attaching the current raster position color or color index and texture coordinates to each pixel, then assigning window coordinates (<i>x</i><sub>r</sub> + i, <i>y</i><sub>r</sub> + <i>j</i>), where (<i>x</i><sub>r</sub> , <i>y</i><sub>r</sub> ) is the current raster position, and the pixel was the pixel in the <i>i</i> position in the <i>j</i> row. These pixel fragments are then treated just like the fragments generated by rasterizing points, lines, or polygons. Texture mapping, fog, and all the fragment operations are applied before the fragments are written to the framebuffer.

</td>
</tr>
<tr>
<td width="40%"><a id="GL_STENCIL"></a><a id="gl_stencil"></a><dl>
<dt><b>GL_STENCIL</b></dt>
</dl>
</td>
<td width="60%">
Stencil indexes are read from the stencil buffer and converted to an internal fixed-point format with an unspecified number of bits to the right of the binary point. Each fixed-point index is then shifted left by GL_INDEX_SHIFT bits, and added to GL_INDEX_OFFSET. If GL_INDEX_SHIFT is negative, the shift is to the right. In either case, zero bits fill otherwise unspecified bit locations in the result. If GL_MAP_STENCIL is true, the index is replaced with the value that it references in lookup table GL_PIXEL_MAP_S_TO_S. Whether the lookup replacement of the index is done or not, the integer part of the index is then <b>AND</b>ed with 2<sup>b</sup> - 1, where <i>b</i> is the number of bits in the stencil buffer. The resulting stencil indexes are then written to the stencil buffer such that the index read from the <i>i</i> location of the <i>j</i> row is written to location (<i>x</i><sub>r</sub> + <i>i</i>, <i>y</i><sub>r</sub> + <i>j</i>), where (<i>x</i><sub>r</sub> , <i>y</i><sub>r</sub> ) is the current raster position. Only the pixel-ownership test, the scissor test, and the stencil writemask affect these writes.

</td>
</tr>
</table>
 


## -returns



This function does not return a value.




## -remarks



The <b>glCopyPixels</b> function copies a screen-aligned rectangle of pixels from the specified framebuffer location to a region relative to the current raster position. Its operation is well defined only if the entire pixel source region is within the exposed portion of the window. Results of copies from outside the window, or from regions of the window that are not exposed, are hardware dependent and undefined.

The <i>x</i> and <i>y</i> parameters specify the window coordinates of the lower-left corner of the rectangular region to be copied. The <i>width</i> and <i>height</i> parameters specify the dimensions of the rectangular region to be copied. Both <i>width</i> and <i>height</i> must be nonnegative.

Several parameters control the processing of the pixel data while it is being copied. These parameters are set with three functions: <a href="https://msdn.microsoft.com/c14349c0-ff50-441f-b9fd-8b0f5114fd8a">glPixelTransfer</a>, <a href="https://msdn.microsoft.com/79a84334-355c-46d3-990c-4d273e2d2207">glPixelMap</a>, and <a href="https://msdn.microsoft.com/57ead7d8-0502-46b4-9f66-dbb3cb75b0f9">glPixelZoom</a>. This topic describes the effects on <b>glCopyPixels</b> of most, but not all, of the parameters specified by these three functions.

The <b>glCopyPixels</b> function copies values from each pixel with the lower-left corner at (<i>x</i> + <i>i</i>, <i>y</i> + <i>j</i>) for 0 ≤ <i>i</i> &lt; <i>width</i> and 0 ≤ <i>j</i> &lt; <i>height</i>. This pixel is said to be the <i>i</i> pixel in the <i>j</i> row. Pixels are copied in row order from the lowest to the highest row, left to right in each row.

The <i>type</i> parameter specifies whether color, depth, or stencil data is to be copied.

The rasterization described thus far assumes pixel zoom factors of 1.0. If you use <a href="https://msdn.microsoft.com/57ead7d8-0502-46b4-9f66-dbb3cb75b0f9">glPixelZoom</a> to change the <i>x</i> and <i>y</i> pixel zoom factors, pixels are converted to fragments as follows. If (<i>x</i><sub>r</sub> , <i>y</i><sub>r</sub> ) is the current raster position, and a given pixel is in the <i>i</i> location in the <i>j</i> row of the source pixel rectangle, then fragments are generated for pixels whose centers are in the rectangle with corners at

(<i>x</i><sub>r</sub> + <i>zoom</i>ₓ i, y<sub>r</sub> + <i>zoom</i><sub>y</sub> <i>j</i>)

and

(<i>x</i><sub>r</sub> + <i>zoom</i>ₓ (<i>i</i> + 1), <i>y</i><sub>r</sub> + <i>zoom</i><sub>y</sub> (<i>j</i> + 1))

where <i>zoom</i>ₓ is the value of GL_ZOOM_X and <i>zoom</i><sub>y</sub> is the value of GL_ZOOM_Y.

Modes specified by <a href="https://msdn.microsoft.com/c12255eb-8802-4602-b1fa-ab157201ae5c">glPixelStore</a> have no effect on the operation of <b>glCopyPixels</b>.

The following functions retrieve information related to <b>glCopyPixels</b>:


<a href="https://msdn.microsoft.com/7f5d0084-443a-44f8-98fb-0003627212de">glGet</a> with argument GL_CURRENT_RASTER_POSITION

<b>glGet</b> with argument GL_CURRENT_RASTER_POSITION_VALID

To copy the color pixel in the lower-left corner of the window to the current raster position, use

<b>glCopyPixels</b>( 0, 0, 1, 1, GL_COLOR );




## -see-also




<a href="https://msdn.microsoft.com/8e8e98f8-89e8-40f5-89c1-492c9e3bbd74">glBegin</a>



<a href="https://msdn.microsoft.com/6ab8774a-8887-4c1e-b567-4492c0a60cf2">glDepthFunc</a>



<a href="https://msdn.microsoft.com/ea625699-303b-4e60-b9aa-771949a8d52d">glDrawBuffer</a>



<a href="https://msdn.microsoft.com/c4eda64f-a75e-4e6d-984d-af49414b94d8">glDrawPixels</a>



<a href="https://msdn.microsoft.com/040f8573-683c-4a8a-ae51-66abb0541ac4">glEnd</a>



<a href="https://msdn.microsoft.com/7f5d0084-443a-44f8-98fb-0003627212de">glGet</a>



<a href="https://msdn.microsoft.com/79a84334-355c-46d3-990c-4d273e2d2207">glPixelMap</a>



<a href="https://msdn.microsoft.com/c12255eb-8802-4602-b1fa-ab157201ae5c">glPixelStore</a>



<a href="https://msdn.microsoft.com/c14349c0-ff50-441f-b9fd-8b0f5114fd8a">glPixelTransfer</a>



<a href="https://msdn.microsoft.com/57ead7d8-0502-46b4-9f66-dbb3cb75b0f9">glPixelZoom</a>



<a href="https://msdn.microsoft.com/2a661893-0818-441d-9399-0103560737c3">
glRasterPos</a>



<a href="https://msdn.microsoft.com/734153fa-e809-4b70-867e-55e46ab95712">glReadBuffer</a>



<a href="https://msdn.microsoft.com/41fbad5c-b8ca-456d-bbfc-b48c176e15b0">glReadPixels</a>



<a href="https://msdn.microsoft.com/6c84415b-4d22-494b-90f2-6243d1406725">glStencilFunc</a>
 

 

